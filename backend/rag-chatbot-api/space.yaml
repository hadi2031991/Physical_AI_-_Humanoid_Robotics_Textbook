api_version: 0.0.1

models:
  - microsoft/DialoGPT-small

runtime:
  huggingface: gradio
  requirements: requirements.txt
  python_version: "3.10"

env:
  - HF_MODEL_NAME=microsoft/DialoGPT-small

hooks:
  pre_deploy: |
    python -c "from transformers import AutoTokenizer, AutoModelForCausalLM; \
    from sentence_transformers import SentenceTransformer; \
    AutoTokenizer.from_pretrained('microsoft/DialoGPT-small'); \
    AutoModelForCausalLM.from_pretrained('microsoft/DialoGPT-small'); \
    SentenceTransformer('all-MiniLM-L6-v2');"